function myEval(e){function a(){var e=1;if(_>=0)switch(q[_]){case 0:h&&m[E]--,p-=(e=m[E--])-1,_--;break;case 16:return h&&(d[++p]=null),g=q[--_],b=q[--_],V=q[--_],v=q[--_],_--,u=d[--p]+d[1+p--],void(y=!0)}t(e)}function t(e){_>=0&&9===q[_]&&(d[p-1]=d[p-1].apply(null,d.slice(p,p+e)),g=q[--_],_--,p--)}function c(){switch(s(),_>=0&&q[_]){case 10:--_,--p,d[p]=d[p]<=d[p+1];break;case 11:--_,--p,d[p]=d[p]<d[p+1];break;case 12:--_,--p,d[p]=d[p]===d[p+1];break;case 13:--_,--p,d[p]=d[p]>=d[p+1];break;case 14:--_,--p,d[p]=d[p]>d[p+1];break;case 15:--_,--p,d[p]=d[p]!==d[p+1]}}function s(){r(),_>=0&&2===q[_]&&(--_,--p,d[p]=""+d[p]+d[p+1])}function r(){switch(n(),_>=0&&q[_]){case 3:--_,--p,d[p]=+d[p]+ +d[p+1];break;case 5:--_,--p,d[p]=d[p]-d[p+1]}}function n(){switch(o(),_>=0&&q[_]){case 6:--_,--p,d[p]=d[p]*d[p+1];break;case 7:--_,--p,d[p]=d[p]/d[p+1]}}function o(){for(var e=!0;_>=0&&e;)switch(q[_]){case 1:--_,d[p]=+d[p];break;case 4:--_,d[p]=-d[p];break;case 8:--_,--p,d[p]=Math.pow(d[p],d[p+1]);break;default:e=!1}}e=(e+"").split("");for(var b,l,k,u,f,i,v,V,w=[0,"]",0,"[",")","(",">",0,"<",0,0,0,0,0,0,"}",0,"{"],h=!0,d=[],p=-1,q=[],_=-1,m=[1],E=0,y=!1,$=[],g=1,x=0,u="",C=0,S=e.length;S>C;C++)if(k=e[C],":"===k&&"="===e[++C])x=C+1,$.push(u),u="";else if(/\s/.test(k));else{if(!/[$\w]/.test(k))break;u+=k}for(C=x;S>C;)if(y){for(l=!0;S>C&&l;)if(k=e[C++],V===k){if(b--,0>=b){y=!1;break}u+=k}else switch(k){case v:u+=k,b++;break;case"\\":if(k=e[C++],0===g)u+="\\"+k;else switch(k){case"\n":break;case"0":u+="\x00";break;case"n":u+="\n";break;case"s":u+=" ";break;case"t":u+="	";break;case"u":u+=String.fromCharCode(parseInt(e[C++]+e[C++]+e[C++]+e[C++],16));break;default:u+=k}break;case"$":2===g&&"("===e[C]?(C++,q[++_]=v,q[++_]=V,q[++_]=b,q[++_]=g,q[++_]=16,l=y=!1,h=!0,g=1):u+=k;break;default:u+=k}d[++p]=u,l&&(h=!1,t(1))}else switch(k=e[C]){case"(":h||(q[++_]=g,q[++_]=9,0>i||(g=i)),d[p+1]=null,q[++_]=0,m[++E]=1,C++,h=!0;break;case")":c(),a(),C++,h=!1;break;case"+":h?(q[++_]=1,C++):(">"===e[++C]?(s(),q[++_]=2,C++):(r(),q[++_]=3),h=!0);break;case"-":h?(q[++_]=4,C++):(r(),q[++_]=5,C++,h=!0);break;case"*":n(),q[++_]=6,C++,h=!0;break;case"/":n(),q[++_]=7,C++,h=!0;break;case"<":c(),"="===e[++C]?(q[++_]=10,C++):q[++_]=11,h=!0;break;case"~":if("="!==e[++C])throw"Unexcepted ~";q[++_]=15,C++;break;case"=":c(),q[++_]=12,C++,h=!0;break;case">":c(),"="===e[++C]?(q[++_]=13,C++):q[++_]=14;break;case"^":q[++_]=8,C++,h=!0;break;case'"':case"'":y=!0,C++,v=V=k,b=1,u="";break;case",":c(),d[p+1]=null,h&&p++,m[E]++,C++,h=!0;break;case";":C=S;break;case"\n":case"\r":case"	":case"\\":case" ":++C;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case".":for(u=k,C++;S>C&&/[0-9.eE]/.test(k=e[C]);)u+=k,("e"===k||"E"===k)&&(u+=e[++C]),C++;d[++p]=+u,h=!1;break;default:if(!/[$\w]/.test(k))throw"Syntax Error";for(u=k,C++;S>C&&/[$\w]/.test(k=e[C]);)u+=k,C++;for(;S>C&&/\s/.test(k=e[C]);)C++;d[++p]=null==(f=userv["Vn"+u])?f=vtable["Vn"+u]:f,null!=f&&(i=f._cook,f.fquote&&(v=k,V=/[\(\)\[\]\{\}<>]/.test(v)?w[v.charCodeAt(0)%18]:v,y=!0,b=1,q[++_]=g,q[++_]=9,0>i||(g=i),u="",C++)),h=!1}for(c(),C=0,S=$.length;S>C;C++)userv["Vn"+$[C]]=d[0];return d[0]}var vtable={},userv={};vtable.Vnquote=function(e){return e},vtable.Vnquote.fquote=!0,vtable.Vnquote._cook=-1,vtable.Vneval=function(e){return myEval(e)},vtable.Vneval.fquote=!1,vtable.Vneval._cook=-1,vtable.Vnident=function(e){return e},vtable.Vnident.fquote=!1,vtable.Vnident._cook=-1,vtable.Vnraw=function(e){return e},vtable.Vnraw.fquote=!1,vtable.Vnraw._cook=0,vtable.Vncook=function(e){return e},vtable.Vncook.fquote=!1,vtable.Vncook._cook=1,vtable.Vntemplate=function(e){return e},vtable.Vntemplate.fquote=!1,vtable.Vntemplate._cook=2;